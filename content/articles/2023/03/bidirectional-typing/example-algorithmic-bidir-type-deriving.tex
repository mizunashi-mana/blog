\documentclass[12pt]{article}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{ascmac}
\usepackage{mathtools}
\usepackage{ebproof}
\usepackage{color}

\setlength{\paperwidth}{120cm}
\setlength{\paperheight}{30cm}

\input{layout.tex}

\begin{document}
\pagestyle{empty}

\[
    \begin{prooftree}
        \infer0{f: \forall \alpha\ldotp \alpha \to \alpha \in \Gamma_2}
        \infer1[Var]{\Gamma_2\vdash f \Rightarrow \forall \alpha\ldotp \alpha \to \alpha \mid \Gamma_2}
        \infer0[Refl]{(\Gamma_2, \hat{\alpha_2}) = \Gamma_3 \vdash \hat{\alpha_2} \to \hat{\alpha_2} \preceq \hat{\alpha_2} \to \hat{\alpha_2} \mid \Gamma_3}
        \infer1[Spec]{\Gamma_2 \vdash \forall \alpha\ldotp \alpha \to \alpha \preceq \hat{\alpha_2} \to \hat{\alpha_2} \mid \Gamma_3}
        \infer0{\mathbf{t}: \mathbf{B} \in \Gamma_3}
        \infer1[Var]{\Gamma_3 \vdash \mathbf{t} \Rightarrow \mathbf{B}\mid \Gamma_3}
        \infer0{\hat{\alpha_2} \not\in\mathit{ftv}(\mathbf{B})}
        \infer0{\hat{\alpha_2} \in \Gamma_3}
        \hypo{\vdots}
        \infer1{\Gamma_3 \vdash \mathbf{B}}
        \infer1{\Gamma_3 \vdash \mathbf{B} \simeq \hat{\alpha_2} \mid \Gamma_2, \hat{\alpha_2} = \mathbf{B}}
        \infer3[UnifyRight]{\Gamma_3 \vdash \mathbf{B} \leq \hat{\alpha_2} \mid (\Gamma_2, \hat{\alpha_2} = \mathbf{B}) = \Gamma_4}
        \infer2[Sub]{\Gamma_3 \vdash \mathbf{t} \Leftarrow \hat{\alpha_2} \mid \Gamma_4}
        \infer3[App]{\Gamma_2 \vdash f\; \mathbf{t} \Rightarrow \hat{\alpha_2} \mid \Gamma_4}
        \infer0{\hat{\alpha_2} \not\in\mathit{ftv}(\mathbf{B})}
        \infer0{\hat{\alpha_2} \in \Gamma_3}
        \hypo{\vdots}
        \infer1{\Gamma_4 \vdash \mathbf{B}}
        \infer1{\Gamma_4 \vdash \mathbf{B} \simeq \hat{\alpha_1} \mid \Gamma_1, \hat{\alpha_1} = \mathbf{B}, f: \forall \alpha\ldotp \alpha \to \alpha, \hat{\alpha_2} = \mathbf{B}}
        \infer3[UnifyRight]{\Gamma_4 \vdash \mathbf{B} \leq \hat{\alpha_1} \mid \Gamma_1, \hat{\alpha_1} = \mathbf{B}, f: \forall \alpha\ldotp \alpha \to \alpha, \hat{\alpha_2} = \mathbf{B}}
        \infer2[Sub]{(\Gamma_1, \hat{\alpha_1}, f: \forall \alpha\ldotp \alpha \to \alpha) = \Gamma_2\vdash f\; \mathbf{t} \Leftarrow \hat{\alpha_1} \mid \Gamma_1, \hat{\alpha_1} = \mathbf{B}, f: \forall \alpha\ldotp \alpha \to \alpha, \hat{\alpha_2} = \mathbf{B}}
        \infer1[AnnAbsSyn]{\Gamma_1\vdash \lambda (f: \forall \alpha\ldotp \alpha \to \alpha)\ldotp f\; \mathbf{t} \Rightarrow (\forall \alpha\ldotp \alpha \to \alpha) \to \hat{\alpha_1} \mid (\Gamma_1, \hat{\alpha_1} = \mathbf{B}) = \Gamma_6}
        \infer0[Refl]{\Gamma_6 \vdash (\forall \alpha\ldotp \alpha \to \alpha) \to \mathbf{B} \preceq (\forall \alpha\ldotp \alpha \to \alpha) \to \mathbf{B}\mid \Gamma_6}
        \infer0{x_2: \beta \in \Gamma_{10}}
        \infer1[Var]{\Gamma_{10} \vdash x_2 \Rightarrow \beta\mid \Gamma_{10}}
        \infer0{\beta \in \Gamma_{10}}
        \infer1[Var]{\Gamma_{10}\vdash \beta \leq \beta\mid\Gamma_{10}}
        \infer2[Sub]{(\Gamma_9, x_2: \beta) = \Gamma_{10} \vdash x_2 \Leftarrow \beta\mid \Gamma_{10}}
        \infer1[Abs]{(\Gamma_8, x_1: \mathbf{B}) = \Gamma_9\vdash \lambda x_2\ldotp x_2 \Leftarrow \beta \to \beta\mid \Gamma_9}
        \infer1[Abs]{(\Gamma_7, \beta) = \Gamma_8 \vdash \lambda x_1\ldotp \lambda x_2\ldotp x_2 \Leftarrow \mathbf{B} \to \beta \to \beta \mid \Gamma_8}
        \infer1[TyAbs]{\Gamma_7 \vdash \lambda x_1\ldotp \lambda x_2\ldotp x_2 \Leftarrow \forall \beta\ldotp \mathbf{B} \to \beta \to \beta\mid \Gamma_7}
        \infer1[Ann]{\Gamma_7 \vdash ((\lambda x_1\ldotp \lambda x_2\ldotp x_2): \forall \beta\ldotp \mathbf{B} \to \beta \to \beta) \Rightarrow \forall \beta\ldotp \mathbf{B} \to \beta \to \beta \mid \Gamma_7}
        \infer0[Refl]{(\Gamma_7, \hat{\alpha_3}) = \Gamma_{11} \vdash \mathbf{B} \to \hat{\alpha_3} \to \hat{\alpha_3} \preceq \mathbf{B} \to \hat{\alpha_3} \to \hat{\alpha_3} \mid \Gamma_{11}}
        \infer1[Spec]{\Gamma_7 \vdash\forall \beta\ldotp \mathbf{B} \to \beta \to \beta \preceq \mathbf{B} \to \hat{\alpha_3} \to \hat{\alpha_3}\mid \Gamma_{11}}
        \infer0{\mathbf{t}: \mathbf{B} \in \Gamma_{11}}
        \infer1[Var]{\Gamma_{11}\vdash \mathbf{t} \Rightarrow \mathbf{B}\mid\Gamma_{11}}
        \infer0{\mathbf{B} \in \Gamma_{11}}
        \infer1[Var]{\Gamma_{11}\vdash \mathbf{B} \leq \mathbf{B}\mid \Gamma_{11}}
        \infer2[Sub]{\Gamma_{11}\vdash \mathbf{t} \Leftarrow \mathbf{B}\mid \Gamma_{11}}
        \infer3[App]{\Gamma_7 \vdash ((\lambda x_1\ldotp \lambda x_2\ldotp x_2): \forall \beta\ldotp \mathbf{B} \to \beta \to \beta)\; \mathbf{t} \Rightarrow \hat{\alpha_3} \to \hat{\alpha_3} \mid \Gamma_{11}}
        \infer0{\hat{\alpha_3} \not\in \mathit{ftv}(\alpha)}
        \infer0{\hat{\alpha_3} \in \Gamma_{11}}
        \hypo{\vdots}
        \infer1{\Gamma_{11} \vdash \alpha}
        \infer1{\Gamma_{11} \vdash \hat{\alpha_3} \simeq \alpha\mid \Gamma_7,\hat{\alpha_3} = \alpha}
        \infer3[UnifyLeft]{\Gamma_{11}\vdash \hat{\alpha_3} \leq \alpha\mid (\Gamma_7,\hat{\alpha_3} = \alpha) = \Gamma_{12}}
        \infer0{\alpha \in \Gamma_{12}}
        \infer1[Var]{\Gamma_{12}\vdash \alpha\leq \alpha\mid \Gamma_{12}}
        \infer2[Arrow]{\Gamma_{11}\vdash \hat{\alpha_3} \to \hat{\alpha_3}\leq \alpha \to \alpha\mid \Gamma_{12}}
        \infer2[Sub]{(\Gamma_6, \alpha) = \Gamma_7 \vdash ((\lambda x_1\ldotp \lambda x_2\ldotp x_2): \forall \beta\ldotp \mathbf{B} \to \beta \to \beta)\; \mathbf{t} \Leftarrow \alpha \to \alpha \mid \Gamma_{12}}
        \infer1[TyAbs]{\Gamma_6 \vdash ((\lambda x_1\ldotp \lambda x_2\ldotp x_2): \forall \beta\ldotp \mathbf{B} \to \beta \to \beta)\; \mathbf{t} \Leftarrow \forall \alpha\ldotp \alpha \to \alpha \mid \Gamma_6}
        \infer3[App]{(\mathbf{B}, \mathbf{t}: \mathbf{B}) = \Gamma_1\vdash (\lambda (f: \forall \alpha\ldotp \alpha \to \alpha)\ldotp f\; \mathbf{t})\; (((\lambda x_1\ldotp \lambda x_2\ldotp x_2): \forall \beta\ldotp \mathbf{B} \to \beta \to \beta)\; \mathbf{t}) \Rightarrow \mathbf{B}\mid \Gamma_6}
    \end{prooftree}
\]
\end{document}
